import sqlite3
import hashlib
import os

DB_PATH = "database.db"

# ========================
# üîπ –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î
# ========================

def create_connection():
    """–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î"""
    conn = sqlite3.connect(DB_PATH)
    return conn


def hash_password(password: str) -> str:
    """–°–æ–∑–¥–∞—ë—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ö—ç—à –ø–∞—Ä–æ–ª—è"""
    return hashlib.sha256(password.encode('utf-8')).hexdigest()


def create_tables():
    """–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç"""
    conn = create_connection()
    cursor = conn.cursor()

    # –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ä–æ—Å—Ç
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS elders (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            login TEXT UNIQUE NOT NULL,
            password_hash TEXT NOT NULL,
            telegram_id INTEGER
        )
    ''')

    # –¢–∞–±–ª–∏—Ü–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS students (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT UNIQUE NOT NULL,
            password_hash TEXT NOT NULL,
            group_name TEXT NOT NULL,
            telegram_id INTEGER
        )
    ''')

    conn.commit()
    conn.close()


# ========================
# üîπ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ä–æ—Å—Ç
# ========================

elders_list = [
    ("T.mirdiyanov", "YbWxbhSZ44"),
    ("M.Iskander", "DI391PWl4p6vCeps"),
    ("E.Sokovikov", "0kr5e5FuyB5VwJL3")
]

def add_elder(login: str, password: str):
    conn = create_connection()
    cursor = conn.cursor()
    password_hash = hash_password(password)
    cursor.execute("SELECT login FROM elders WHERE login = ?", (login,))
    if cursor.fetchone() is None:
        cursor.execute(
            "INSERT INTO elders (login, password_hash) VALUES (?, ?)",
            (login, password_hash)
        )
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ä–æ—Å—Ç–∞: {login}")
    conn.commit()
    conn.close()


# ========================
# üîπ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
# ========================

students_list = [
    ("V.Abuseva", "g1Qt7Ux4S5gEj8Qd", "–°–ü–î-103"),
    ("U.Afanaseva", "h74mZ56vPYM8Qwew", "–°–ü–î-103"),
    ("G.Adilya", "lbX6V41FTskvD8h4", "–°–ü–î-103"),
    ("A.Gumerova", "hsw87y05PoNr0TYY", "–°–ü–î-103"),
    ("K.Ziganshin", "YaKamil", "–°–ü–î-103"),
    ("M.Ivanova", "M99f88Lyk0JgOuAt", "–°–ü–î-103"),
    ("A.Inkarova", "b7BaIxMmN92J7u1v", "–°–ü–î-103"),
    ("K.Yana", "yMdq34J7TdK9Kxz9", "–°–ü–î-103"),
    ("M.Anastasya", "5VeV3M4n1CffhzY2", "–°–ü–î-103"),
    ("M.Timur", "YaTimur", "–°–ü–î-103"),
    ("M.Iskander", "YaIskander", "–°–ü–î-103"),
    ("V.Naumova", "t8eI0K7rSo1Bow0T", "–°–ü–î-103"),
    ("N.Veronika", "7So8D3uxT27FKdzw", "–°–ü–î-103"),
    ("A.Nurov", "rLg9TtX35Rkor01C", "–°–ü–î-103"),
    ("D.Pakskin", "UvGp22nC1u2nTeP8", "–°–ü–î-103"),
    ("S.Salimova", "u0xtGC2thD961WQi", "–°–ü–î-103"),
    ("D.Sergeeva", "cq0E3z3SY5ICsgu4", "–°–ü–î-103"),
    ("E.Sokovikov", "YaErick", "–°–ü–î-103"),
    ("S.Dima", "bTdF25yePX46gbG7", "–°–ü–î-103"),
    ("D.Tarasova", "Vq2Ub6M9a41bwANa", "–°–ü–î-103"),
    ("V.Hayrulin", "x01npwK5dANlE8I4", "–°–ü–î-103"),
    ("H.Vitalina", "F26w0Nq4yjZC7qtN", "–°–ü–î-103"),
    ("A.Hafizova", "omeDGDR8U9c329mx", "–°–ü–î-103"),
    ("C.Dasha", "omeDGDR8U9c329mx", "–°–ü–î-103"),
    ("A.Chekalov", "w2Vn02NtuMq8j9LR", "–°–ü–î-103"),
    ("S.Mark", "XsktG2s7iG37YSq2", "–°–ü–î-103"),
    ("V.Shmakov", "18kzuCeD36iy3UTY", "–°–ü–î-103")
] #–í–∏–∫–∞ –Ω–∞—É–º–æ–≤–∞ —É–±—Ä–∞—Ç—å —Ç–µ—Å—Ç –¢–ì–ü

def add_student(name: str, password: str, group_name: str):
    conn = create_connection()
    cursor = conn.cursor()
    password_hash = hash_password(password)
    cursor.execute("SELECT name FROM students WHERE name = ?", (name,))
    if cursor.fetchone() is None:
        cursor.execute(
            "INSERT INTO students (name, password_hash, group_name) VALUES (?, ?, ?)",
            (name, password_hash, group_name)
        )
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç—É–¥–µ–Ω—Ç: {name}")
    conn.commit()
    conn.close()




def fill_sample_schedule():
    """
    –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è)
    """
    conn = create_connection()
    if conn is not None:
        try:
            cursor = conn.cursor()
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
            cursor.execute("SELECT COUNT(*) FROM schedule")
            count = cursor.fetchone()[0]
            
            if count > 0:
                # –£–±—Ä–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ - –¥–∞–Ω–Ω—ã–µ —É–∂–µ –µ—Å—Ç—å
                return
            
            # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
            all_data = [
                # –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (—á–µ—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è)
                ("–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", 1, "8:00-9:30", "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏ –∫—É–ª—å—Ç—É—Ä–∞ —Ä–µ—á–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–∫.—Ñ–∏–ª–æ–ª.–Ω., –ö–∞—à–∏—Ü–∏–Ω–∞ –ï.–ì", "401 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", 2, "9:40-11:10", "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∏ –∫—É–ª—å—Ç—É—Ä–∞ —Ä–µ—á–∏ (–ª–µ–∫—Ü–∏—è)", "–∫.—Ñ–∏–ª–æ–ª.–Ω., –ö–∞—à–∏—Ü–∏–Ω–∞ –ï.–ì", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", 3, "11:20-12:50", "–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ (—Å–µ–º–∏–Ω–∞—Ä)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –Æ–Ω –õ.–í.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'even'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 2, "9.40-11.10", "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ)", "–∫.—Ñ–∏–ª–æ–ª.–Ω., –¥–æ—Ü–µ–Ω—Ç –ù—É—Ä–æ–≤–∞ –õ.–†. (–∞)", " 308 –∞—É–¥. –∫–æ—Ä–ø—É—Å 1,", 'even'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 3, "11.20-12.50", "–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–ª–µ–∫—Ü–∏—è)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", ", 219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 4, "13.30-15.00", "–§–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –∏ —Å–ø–æ—Ä—Ç (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ)", " –∫.–±.–Ω., –¥–æ—Ü–µ–Ω—Ç –ú–∞—Ä—Ç—å—è–Ω–æ–≤ –û.–ü.", "—Å–ø–æ—Ä—Ç–∑–∞–ª", 'even'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 5, "15.10-16.40", "–õ–æ–≥–∏–∫–∞ (—Å–µ–º–∏–Ω–∞—Ä)- –∫.—Ñ.–Ω.", "–∫.—Ñ.–Ω., –ö–æ—Å—Ç–∏–Ω–∞ –ï.–ù.", "319 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),

                ("–°—Ä–µ–¥–∞", 2, "9.40-11.10", "–¢–µ–æ—Ä–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∞ (–ª–µ–∫—Ü–∏—è)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –ö—Ä–∞—Å–Ω–æ–≤ –ê.–í.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–°—Ä–µ–¥–∞", 3, "11.20-12.50", "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'even'),

                ("–ß–µ—Ç–≤–µ—Ä–≥", 2, "9.40-11.10", "–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ (–ª–µ–∫—Ü–∏—è)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –í–ª–∞–¥—ã–∫–∏–Ω–∞ –ê.–Æ.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–ß–µ—Ç–≤–µ—Ä–≥", 3, "11.20-12.50", "–ò—Å—Ç–æ—Ä–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∞ –†–æ—Å—Å–∏–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–¥–æ—Ü–µ–Ω—Ç, –†—è–∑–∞–Ω–æ–≤–∞ –ú.–ù.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'even'),
                ("–ß–µ—Ç–≤–µ—Ä–≥", 4, "13.30-15.00", "–¢–µ–æ—Ä–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∞ (—Å–µ–º–∏–Ω–∞—Ä)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –ö—Ä–∞—Å–Ω–æ–≤ –ê.–í., 405 –∞—É–¥.", "–∫–æ—Ä–ø—É—Å 2", 'even'),

                ("–ü—è—Ç–Ω–∏—Ü–∞", 1, "8.00-9.30", "–ü—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—É–¥–µ–±–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã (—Å–µ–º–∏–Ω–∞—Ä)", "–°–æ—Å–Ω–æ–≤—Å–∫–∞—è –õ.–†.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'even'),
                ("–ü—è—Ç–Ω–∏—Ü–∞", 2, "9.40-11.10", "–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'even'),
                ("–ü—è—Ç–Ω–∏—Ü–∞", 3, "11.20-12.50", "–ü—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—É–¥–µ–±–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã (–ª–µ–∫—Ü–∏—è)", "–∫.—é.–Ω. –ë—É—Ä–≥–∞–Ω–æ–≤ –†.–°.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–ü—è—Ç–Ω–∏—Ü–∞", 4, "13.30-15.00", "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∂–∏–∑–Ω–µ–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ª–µ–∫—Ü–∏—è)", "–∫.–ø.–Ω. –†–æ–º–∞–Ω—é–∫ –û.–ù.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),

                ("–°—É–±–±–æ—Ç–∞", 2, "9.40-11.10", "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏ (–ª–µ–∫—Ü–∏—è)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–°—É–±–±–æ—Ç–∞", 3, "11.20-12.50", "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏ (–ª–µ–∫—Ü–∏—è)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),
                ("–°—É–±–±–æ—Ç–∞", 4, "13.30-15.00", "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ)", "–∫.—Ñ.–Ω., –ö—Ä–µ–ø–∫–æ–≥–æ—Ä—Å–∫–∞—è –ï.–í. (–±)", "104 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'even'),

                # –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (–Ω–µ—á–µ—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è)
                ("–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", 2, "9:40-11:10", "–õ–æ–≥–∏–∫–∞ (–ª–µ–∫—Ü–∏—è)", "–∫.—Ñ.–Ω. –ö–æ—Å—Ç–∏–Ω–∞ –ï.–ù.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", 3, "11:20-12:50", "–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ (—Å–µ–º–∏–Ω–∞—Ä)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –Æ–Ω –õ.–í.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'odd'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 2, "9.40-11.10", "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ)", "–∫.—Ñ–∏–ª–æ–ª.–Ω., –¥–æ—Ü–µ–Ω—Ç –ù—É—Ä–æ–≤–∞ –õ.–†. (–∞)", " 308 –∞—É–¥. –∫–æ—Ä–ø—É—Å 1,", 'odd'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 3, "11.20-12.50", "–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–ª–µ–∫—Ü–∏—è)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", ", 219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 4, "13.30-15.00", "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∂–∏–∑–Ω–µ–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–£—Ä–±–∞–Ω–æ–≤ –ê.–Æ", "404 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'odd'),
                ("–í—Ç–æ—Ä–Ω–∏–∫", 5, "15.10-16.40", "–§–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –∏ —Å–ø–æ—Ä—Ç (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ)", " –∫.–±.–Ω., –¥–æ—Ü–µ–Ω—Ç –ú–∞—Ä—Ç—å—è–Ω–æ–≤ –û.–ü.", "—Å–ø–æ—Ä—Ç–∑–∞–ª", 'odd'),

                ("–°—Ä–µ–¥–∞", 1, "8.00-9.30", "–ò—Å—Ç–æ—Ä–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∞ –†–æ—Å—Å–∏–∏ (–ª–µ–∫—Ü–∏—è)", "–¥–æ—Ü–µ–Ω—Ç, –†—è–∑–∞–Ω–æ–≤–∞ –ú.–ù.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–°—Ä–µ–¥–∞", 2, "9.40-11.10", "–¢–µ–æ—Ä–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∞ (—Å–µ–º–∏–Ω–∞—Ä)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –ö—Ä–∞—Å–Ω–æ–≤ –ê.–í., 405 –∞—É–¥.", "–∫–æ—Ä–ø—É—Å 2", 'odd'),
                ("–°—Ä–µ–¥–∞", 3, "11.20-12.50", "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'odd'),

                ("–ß–µ—Ç–≤–µ—Ä–≥", 2, "9.40-11.10", "–¢–µ–æ—Ä–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∞ (–ª–µ–∫—Ü–∏—è)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –ö—Ä–∞—Å–Ω–æ–≤ –ê.–í.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–ß–µ—Ç–≤–µ—Ä–≥", 3, "11.20-12.50", "–ò—Å—Ç–æ—Ä–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –∏ –ø—Ä–∞–≤–∞ –†–æ—Å—Å–∏–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–¥–æ—Ü–µ–Ω—Ç, –†—è–∑–∞–Ω–æ–≤–∞ –ú.–ù.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'odd'),
                ("–ß–µ—Ç–≤–µ—Ä–≥", 4, "13.30-15.00", "–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ (–ª–µ–∫—Ü–∏—è)", "–∫.—é.–Ω., –¥–æ—Ü–µ–Ω—Ç –í–ª–∞–¥—ã–∫–∏–Ω–∞ –ê.–Æ.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),

                ("–ü—è—Ç–Ω–∏—Ü–∞", 1, "8.00-9.30", "–ü—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—É–¥–µ–±–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã (—Å–µ–º–∏–Ω–∞—Ä)", "–°–æ—Å–Ω–æ–≤—Å–∫–∞—è –õ.–†.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'odd'),
                ("–ü—è—Ç–Ω–∏—Ü–∞", 2, "9.40-11.10", "–û—Å–Ω–æ–≤—ã —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "405 –∞—É–¥., –∫–æ—Ä–ø—É—Å 2", 'odd'),
                ("–ü—è—Ç–Ω–∏—Ü–∞", 3, "11.20-12.50", "–ü—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—É–¥–µ–±–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã (–ª–µ–∫—Ü–∏—è)", "–∫.—é.–Ω. –ë—É—Ä–≥–∞–Ω–æ–≤ –†.–°.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–ü—è—Ç–Ω–∏—Ü–∞", 4, "13.30-15.00", "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∂–∏–∑–Ω–µ–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ª–µ–∫—Ü–∏—è)", "–∫.–ø.–Ω. –†–æ–º–∞–Ω—é–∫ –û.–ù.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),

                ("–°—É–±–±–æ—Ç–∞", 1, "8.00-9.30", "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏ (—Å–µ–º–∏–Ω–∞—Ä)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–°—É–±–±–æ—Ç–∞", 2, "8.00-9.30", "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏ (–ª–µ–∫—Ü–∏—è)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–°—É–±–±–æ—Ç–∞", 3, "11.20-12.50", "–ò—Å—Ç–æ—Ä–∏—è –†–æ—Å—Å–∏–∏ (–ª–µ–∫—Ü–∏—è)", "–¥.–∏.–Ω., –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –•–∞–±—É—Ç–¥–∏–Ω–æ–≤ –ê.–Æ.", "219 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ("–°—É–±–±–æ—Ç–∞", 4, "13.30-15.00", "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ)", "–∫.—Ñ.–Ω., –ö—Ä–µ–ø–∫–æ–≥–æ—Ä—Å–∫–∞—è –ï.–í. (–±)", "104 –∞—É–¥., –∫–æ—Ä–ø—É—Å 1", 'odd'),
                ]
            
              # –í—Å—Ç–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
            cursor.executemany('''
                INSERT INTO schedule (day, pair_number, time, subject, teacher, classroom, week_type)
                VALUES (?, ?, ?, ?, ?, ?, ?)
            ''', all_data)
            
            conn.commit()
            # –£–±—Ä–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è: {e}")
        finally:
            conn.close()

def check_schedule_days():
    """
    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –¥–Ω–∏ –µ—Å—Ç—å –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏
    """
    conn = create_connection()
    if conn is not None:
        try:
            cursor = conn.cursor()
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–µ—Ç–Ω—É—é –Ω–µ–¥–µ–ª—é
            cursor.execute("SELECT DISTINCT day FROM schedule WHERE week_type = 'even'")
            even_days = cursor.fetchall()
            print("–î–Ω–∏ –≤ —á–µ—Ç–Ω–æ–π –Ω–µ–¥–µ–ª–µ:", [day[0] for day in even_days])
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ—á–µ—Ç–Ω—É—é –Ω–µ–¥–µ–ª—é
            cursor.execute("SELECT DISTINCT day FROM schedule WHERE week_type = 'odd'")
            odd_days = cursor.fetchall()
            print("–î–Ω–∏ –≤ –Ω–µ—á–µ—Ç–Ω–æ–π –Ω–µ–¥–µ–ª–µ:", [day[0] for day in odd_days])
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –¥–Ω–µ–π: {e}")
        finally:
            conn.close()


# ========================
# üîπ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
# ========================

def initialize_data():
    create_tables()
    for login, password in elders_list:
        add_elder(login, password)
    for name, password, group in students_list:
        add_student(name, password, group)
    print("‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞!")

# ========================
# üîπ –ó–∞–ø—É—Å–∫ –Ω–∞–ø—Ä—è–º—É—é
# ========================

def init_schedule_db():
    """
    –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π)
    """
    conn = create_connection()
    if conn is not None:
        try:
            cursor = conn.cursor()
            
            # –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
            cursor.execute('''
                CREATE TABLE IF NOT EXISTS schedule (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    day TEXT NOT NULL,
                    pair_number INTEGER NOT NULL,
                    time TEXT NOT NULL,
                    subject TEXT,
                    teacher TEXT,
                    classroom TEXT,
                    week_type TEXT NOT NULL CHECK(week_type IN ('even', 'odd'))
                )
            ''')
            
            conn.commit()
            # –£–±—Ä–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã schedule: {e}")
        finally:
            conn.close()

if __name__ == "__main__":
    initialize_data()
